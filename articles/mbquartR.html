<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>mbquartR • mbquartR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="mbquartR">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mbquartR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/mbquartR.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/example.html">Two examples of using mbquartR</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/alex-koiter/mbquartR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<link href="mbquartR_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="mbquartR_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="mbquartR_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="mbquartR_files/leaflet-1.3.1/leaflet.js"></script><link href="mbquartR_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="mbquartR_files/proj4-2.6.2/proj4.min.js"></script><script src="mbquartR_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="mbquartR_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="mbquartR_files/leaflet-binding-2.2.2/leaflet.js"></script><script src="mbquartR_files/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script><script src="mbquartR_files/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script><script src="mbquartR_files/clipboard-0.0.1/setClipboardText.js"></script><link href="mbquartR_files/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet">
<link href="mbquartR_files/mapviewCSS-0.0.1/mapview.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>mbquartR</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/alex-koiter/mbquartR/blob/main/vignettes/mbquartR.Rmd" class="external-link"><code>vignettes/mbquartR.Rmd</code></a></small>
      <div class="d-none name"><code>mbquartR.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://alexkoiter.ca/mbquartR/">mbquartR</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="mbquartr">mbquartR<a class="anchor" aria-label="anchor" href="#mbquartr"></a>
</h2>
<!-- badges: start -->
<p><a href="https://app.codecov.io/gh/alex-koiter/mbquartR?branch=main" class="external-link"><img src="https://codecov.io/gh/alex-koiter/mbquartR/branch/main/graph/badge.svg" alt="Codecov test coverage"></a> <a href="https://github.com/alex-koiter/mbquartR/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/alex-koiter/mbquartR/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a> <a href="https://github.com/alex-koiter/mbquartR/actions?query=workflow%3Apkgcheck" class="external-link"><img src="https://github.com/alex-koiter/mbquartR/workflows/pkgcheck/badge.svg" alt="pkgcheck"></a> <!-- badges: end --></p>
<p>The goal of <code>mbquartR</code> is to provide an easy way to
download the Manitoba Original Survey Legal Descriptions data from <a href="https://geoportal.gov.mb.ca/" class="external-link">DataMB</a> and then to locate
quarter sections, and other types of land division types, in the
province of Manitoba. You can search by legal land description (e.g.,
NE-11-33-29W1) or by lat/long coordinates (e.g., -101.4656, 51.81913).
There is also a convenient map function that plots the centres and an
outline of the quarter sections on a map.</p>
<p>The Manitoba Original Survey Legal Descriptions data set covers the
entire province of Manitoba and there are over 900,000 parcels of land
that have a legal land description. <code>mbquartR</code> was created
for those who work with geospatial data in Manitoba, particularly those
who are working with rural or farm parcels of land where the legal land
description is commonly used as the method of identifying the location.
<code>mbquartR</code> also allows users to quickly go back and forth
between geographic coordinates and the legal land description. Most
mapping applications (e.g., Google Maps) can not find or route to a
legal land description, but you can with coordinates!</p>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>You can install the development version of <code>mbquartR</code> like
so:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"alex-koiter/mbquartR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="what-is-a-quarter-section">What is a quarter section?<a class="anchor" aria-label="anchor" href="#what-is-a-quarter-section"></a>
</h3>
<p>A quarter section in Manitoba is a land unit measuring 160 acres
(~64.8 ha), representing a quarter of a square mile. It originates from
the <a href="https://en.wikipedia.org/wiki/Dominion_Land_Survey" class="external-link">Dominion Land
Survey system</a>, introduced in the late 19th century to organize the
European settlement and colonization of Western Canada. The grid system
covers most of the province of Manitoba and organizes land into a
hierarchy of quarter sections, sections, townships, and ranges.</p>
<ul>
<li>A quarter section is square parcel of land measuring 1/4 mile by 1/4
mile</li>
<li>A section is a square parcel of land measuring 1 mile by 1 mile and
consists of four quarter sections, where each quarter section is
indicated by the cardinal direction of the corners of the section (NW,
NE, SW, SE)</li>
<li>A township consists of a grid of 36 sections, where sections are
numbered in an “S” pattern, starting in the northeast corner with
section 1 and ending in the southeast corner with section 36</li>
<li>A range is a vertical column of townships running north-south and
are numbered east or west of a designated Principal Meridian</li>
</ul>
<div class="section level4">
<h4 id="how-do-legal-land-descriptions-for-quarter-section-work-in-manitoba">How do legal land descriptions for quarter section work in
Manitoba?<a class="anchor" aria-label="anchor" href="#how-do-legal-land-descriptions-for-quarter-section-work-in-manitoba"></a>
</h4>
<p>A legal land description for a quarter section consists of four
values separated by a -</p>
<ol style="list-style-type: decimal">
<li>Quarter Section (SW)</li>
<li>Section (9)</li>
<li>Township (8)</li>
<li>Range (6E1)</li>
</ol>
<p>For example: A legal land description of SW-9-8-6E1 can be
interpreted as the Southwest Quarter of Section 9, Township 8, Range 6
East of the 1st Meridian.</p>
</div>
</div>
<div class="section level3">
<h3 id="other-land-division-types">Other land division types<a class="anchor" aria-label="anchor" href="#other-land-division-types"></a>
</h3>
<p>Quarter sections are the most common type of land division in
Manitoba but there are other types. The size, shape, and naming
convention of these other types of land divisions can be different.</p>
<p>These include:</p>
<ul>
<li>RL = River lot (e.g., RL-11-Oak Island)</li>
<li>Lot = Township lot (e.g., 10-54-27W1)</li>
<li>OT = Outer two mile lot (e.g., OT-11A-St. Clements)</li>
<li>PL = Parish lot (e.g., PL-R-St. Andrews)</li>
<li>SL = Settlement lot (e.g., SL-2-Roman Catholic Mission
Property)</li>
<li>WL = Wood lot (e.g., WL-179-Portage La Prairie)</li>
</ul>
<p>These other types of land division can also be search for using
<code><a href="../reference/search_legal.html">search_legal()</a></code></p>
</div>
<div class="section level3">
<h3 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h3>
<div class="section level4">
<h4 id="download-the-data-set-from-datamb">Download the data set from DataMB<a class="anchor" aria-label="anchor" href="#download-the-data-set-from-datamb"></a>
</h4>
<p>To use the search functions you must first download a dataset that
has both the legal land descriptions and the coordinates of the center
for each quarter section in Manitoba.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/quarters_dl.html">quarters_dl</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>These are basic examples which shows you the two common ways to
search for quarter sections:</p>
</div>
<div class="section level4">
<h4 id="search-using-latlong-coordinates">Search using lat/long coordinates<a class="anchor" aria-label="anchor" href="#search-using-latlong-coordinates"></a>
</h4>
<p>This function takes your coordinates (decimal degrees) and locates
the nearest centre of a quarter section based on the euclidean distance
between two points. Given that most quarter sections are a half mile
square (804.7m by 804.7m) the furthest distance from the center to
corner is ~570m. You will get a warning if any distances are greater
than 600m and an error is the distance is greater than 1000m. The tibble
that is returned provides the legal land descriptions, centre
coordinates, user provided coordinates, and the distance from the
coordinates provided to the closest quarter section centre.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/search_coord.html">search_coord</a></span><span class="op">(</span>long <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">101.4656</span>, <span class="op">-</span><span class="fl">99.99768</span><span class="op">)</span>, lat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">51.81913</span>, <span class="fl">49.928926</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 7</span></span></span>
<span><span class="co">#&gt;   legal         type     long   lat long_user lat_user  dist</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494;">[m]</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> NE-11-33-29W1 Quarter -<span style="color: #BB0000;">101.</span>  51.8     -<span style="color: #BB0000;">101.</span>     51.8  29.9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> NW-15-11-19W1 Quarter -<span style="color: #BB0000;">100.</span>  49.9     -<span style="color: #BB0000;">100.</span>     49.9 211.</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="search-using-legal-land-descriptions">Search using legal land descriptions<a class="anchor" aria-label="anchor" href="#search-using-legal-land-descriptions"></a>
</h4>
<p>This function takes legal land descriptions and locates the centre
coordinates of the quarter sections. You can include leading zeroes
(e.g., NE-01-012-12E1) or not (e.g., NE-1-12-12E1). The data set used in
this package includes three meridians (W1, E1, and E2); however, most
commonly searched for quarter sections use the East 1 (E1) or West 1
(W1) meridians. If the meridian number is not included it will default
to 1. For example, a search for NW-36-89-11E will by default search for
NW-36-89-11E1 despite NW-36-89-11E2 existing in the data set.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/search_legal.html">search_legal</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NE-11-33-29W1"</span>, <span class="st">"SW-20-02-1W1"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 4</span></span></span>
<span><span class="co">#&gt;   legal         type      long   lat</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> NE-11-33-29W1 Quarter -<span style="color: #BB0000;">101.</span>   51.8</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> SW-20-2-1W1   Quarter  -<span style="color: #BB0000;">97.6</span>  49.1</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="map-quarter-sections">Map quarter sections<a class="anchor" aria-label="anchor" href="#map-quarter-sections"></a>
</h4>
<p>You can also quickly plot the center coordinates and an outline
(polygon) of located quarter sections on an interactive map. Outlines
are only provided for quarter sections as the the dimensions and
orientation of the other land division types vary.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_legal.html">search_legal</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NE-1-12-12E1"</span>, <span class="st">"NE-11-33-29W1"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/map_quarter.html">map_quarter</a></span><span class="op">(</span><span class="va">example</span><span class="op">)</span></span>
<span><span class="co">#&gt; Polygons for quarter sections are approximate and are only meant as</span></span>
<span><span class="co">#&gt;     a visual aid.</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["polygon",420]},{"method":"addPolygons","args":[[[[{"lng":[-95.83369241799028,-95.82234231963206,-95.82234231963206,-95.83369241799028,-95.83369241799028],"lat":[49.96701077254545,49.96701077254545,49.97432065205499,49.97432065205499,49.96701077254545]}]],[[{"lng":[-101.4712276987131,-101.4594022887415,-101.4594022887415,-101.4712276987131,-101.4712276987131],"lat":[51.8152712462669,51.8152712462669,51.82258417316898,51.82258417316898,51.8152712462669]}]]],null,"Polygon",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#000000","weight":2,"opacity":[0.9,0.9],"fill":true,"fillColor":["#440154","#FDE725"],"fillOpacity":[0.6,0.6],"smoothFactor":1,"noClip":false},["<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>legal&emsp;<\/th><td>NE-1-12-12E1&emsp;<\/td><\/tr><tr><td>2<\/td><th>bbox&emsp;<\/th><td>sfc_POLYGON&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>2&emsp;<\/td><\/tr><tr><td>1<\/td><th>legal&emsp;<\/th><td>NE-11-33-29W1&emsp;<\/td><\/tr><tr><td>2<\/td><th>bbox&emsp;<\/th><td>sfc_POLYGON&emsp;<\/td><\/tr><\/table><\/div>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["NE-1-12-12E1","NE-11-33-29W1"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":3,"opacity":0.9,"fillOpacity":0.84,"bringToFront":false,"sendToBack":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addLegend","args":[{"colors":["#440154","#FDE725"],"labels":["NE-1-12-12E1","NE-11-33-29W1"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"Polygon","extra":null,"layerId":null,"className":"info legend","group":"Polygon"}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[[49.97066218826723,51.81892787994033],[-95.8280194329148,-101.4653135179675],6,null,"Centre",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#000000","weight":1,"opacity":[0.9,0.9],"fill":true,"fillColor":["#440154","#FDE725"],"fillOpacity":[0.6,0.6]},null,null,["<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>legal&emsp;<\/th><td>NE-1-12-12E1&emsp;<\/td><\/tr><tr><td>2<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>2&emsp;<\/td><\/tr><tr><td>1<\/td><th>legal&emsp;<\/th><td>NE-11-33-29W1&emsp;<\/td><\/tr><tr><td>2<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["NE-1-12-12E1","NE-11-33-29W1"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLayersControl","args":["Esri.WorldImagery",["Polygon","Centre"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#440154","#FDE725"],"labels":["NE-1-12-12E1","NE-11-33-29W1"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"Centre","extra":null,"layerId":null,"className":"info legend","group":"Centre"}]},{"method":"addHomeButton","args":[-101.4712276987131,49.96701077254545,-95.82234231963206,51.82258417316898,true,null,"Zoom to full extent","<strong>Zoom full<\/strong>","bottomleft"]}],"limits":{"lat":[49.96701077254545,51.82258417316898],"lng":[-101.4712276987131,-95.82234231963206]},"fitBounds":[49.96701077254545,-101.4712276987131,51.82258417316898,-95.82234231963206,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alex Koiter.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
